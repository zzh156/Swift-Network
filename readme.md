# ğŸš€ åŸºäº Rust çš„å·¥ä½œé‡è¯æ˜åŒºå—é“¾é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Rust æ„å»ºçš„ **å·¥ä½œé‡è¯æ˜ (Proof of Work)** åŒºå—é“¾é¡¹ç›®ï¼Œæ—¨åœ¨å¸®åŠ©ç†è§£åŒºå—é“¾çš„åŸºç¡€æ¦‚å¿µï¼Œä¾‹å¦‚äº¤æ˜“å¤„ç†ã€åŒºå—æŒ–çŸ¿å’Œç®€å•çš„å…±è¯†æœºåˆ¶ã€‚æœ¬é¡¹ç›®ä¸»è¦ç”¨äºå­¦ä¹ å’Œæ¢ç´¢ï¼Œä¹Ÿä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•ï¼ˆä¾‹å¦‚ P2P ç½‘ç»œå’Œæ™ºèƒ½åˆçº¦ï¼‰æ‰“ä¸‹åŸºç¡€ã€‚

---

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

- â› **å·¥ä½œé‡è¯æ˜ (PoW)**ï¼šé€šè¿‡è®¡ç®—è§£å†³æŒ–çŸ¿éš¾é¢˜æ¥éªŒè¯æ–°åŒºå—ã€‚
- ğŸ’¸ **äº¤æ˜“å¤„ç†**ï¼šæ”¯æŒç”¨æˆ·é—´çš„äº¤æ˜“ï¼ŒçŸ¿å·¥å¯ä»¥æ‰“åŒ…å¹¶éªŒè¯äº¤æ˜“ã€‚
- ğŸ¦ **è´¦æˆ·ç®¡ç†**ï¼šç®€å•çš„è´¦æˆ·ç³»ç»Ÿï¼Œæ˜ å°„åœ°å€ä¸ä½™é¢ã€‚
- ğŸ— **åŒºå—é“¾ç®¡ç†**ï¼šæ”¯æŒåˆ›ä¸–åŒºå—ç”Ÿæˆã€æ–°åŒºå—æŒ–çŸ¿åŠé“¾æ¡æ›´æ–°ã€‚
- ğŸŒ **èŠ‚ç‚¹é€šä¿¡**ï¼šæ”¯æŒå¤šèŠ‚ç‚¹é—´é€šè¿‡ TCP è¿›è¡Œé€šä¿¡ï¼Œæ¨¡æ‹Ÿå»ä¸­å¿ƒåŒ–ã€‚
- ğŸ›  **å¯æ‰©å±•æ€§**ï¼šæœªæ¥å°†æ”¯æŒ **P2P ç½‘ç»œ** å’Œ **æ™ºèƒ½åˆçº¦**ã€‚

---

## ğŸ—‚ é¡¹ç›®ç»“æ„

```plaintext
â”œâ”€â”€ Transaction       // äº¤æ˜“ç»“æ„ä½“ï¼Œè®°å½•å‘é€æ–¹ã€æ¥æ”¶æ–¹ã€äº¤æ˜“é‡‘é¢
â”œâ”€â”€ Block             // åŒºå—ç»“æ„ä½“ï¼ŒåŒ…æ‹¬ç´¢å¼•ã€äº¤æ˜“åˆ—è¡¨ã€å“ˆå¸Œç­‰
â”œâ”€â”€ Blockchain        // åŒºå—é“¾æ ¸å¿ƒï¼Œç®¡ç†äº¤æ˜“æ± ã€åŒºå—é“¾å’Œè´¦æˆ·ä½™é¢
â”œâ”€â”€ Networking        // èŠ‚ç‚¹é€šä¿¡é€»è¾‘ï¼Œæ”¯æŒå¹¿æ’­åŒºå—å’Œæ¥æ”¶åŒºå—
â””â”€â”€ main.rs           // ä¸»ç¨‹åºå…¥å£ï¼Œå¯åŠ¨èŠ‚ç‚¹å¹¶è¿è¡ŒåŒºå—é“¾é€»è¾‘
ğŸ¯ åŠŸèƒ½è¯¦è§£
ğŸ’¼ äº¤æ˜“ (Transaction)
ä¸€ä¸ªäº¤æ˜“åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

å‘é€æ–¹åœ°å€ (sender)
æ¥æ”¶æ–¹åœ°å€ (receiver)
è½¬è´¦é‡‘é¢ (amount)
```
ğŸŒŸ ç¤ºä¾‹ä»£ç ï¼š

```rust
let transaction = Transaction::new("Alice".to_string(), "Bob".to_string(), 10);
blockchain.add_transaction(transaction);
```
```plaintext
â›“ åŒºå— (Block)
åŒºå—æ˜¯åŒºå—é“¾çš„åŸºæœ¬å•å…ƒï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

åŒºå—å· (index)
æ—¶é—´æˆ³ (timestamp)
äº¤æ˜“åˆ—è¡¨ (transactions)
ä¸Šä¸€åŒºå—çš„å“ˆå¸Œå€¼ (previous_hash)
å½“å‰åŒºå—çš„å“ˆå¸Œå€¼ (hash)
æŒ–çŸ¿å˜é‡ (nonce)
çŸ¿å·¥åœ°å€ (mined_by)
åŒºå—çš„å“ˆå¸Œé€šè¿‡ä»¥ä¸‹å‡½æ•°è®¡ç®—ï¼š
```

```rust
fn calculate_hash(&self) -> String {
    let block_content = format!(
        "{}{}{:?}{}{}",
        self.index, self.timestamp, self.transactions, self.previous_hash, self.nonce
    );
    let mut hasher = Sha256::new();
    hasher.update(block_content);
    hex::encode(hasher.finalize())
}
```
```plaintext
ğŸª™ æŒ–çŸ¿ (Mining)
çŸ¿å·¥é€šè¿‡è®¡ç®—æ‰¾åˆ°ç¬¦åˆéš¾åº¦è¦æ±‚çš„å“ˆå¸Œå€¼æ¥å®ŒæˆæŒ–çŸ¿ï¼Œå¹¶è·å¾—å¥–åŠ±ã€‚
```
```rust
fn mine_block(&mut self, difficulty: usize, miner_address: &str) {
    self.mined_by = miner_address.to_string();
    let target = "0".repeat(difficulty);
    while !self.hash.starts_with(&target) {
        self.nonce += 1;
        self.hash = self.calculate_hash();
    }
    println!("åŒºå—å·²æŒ–å‡º: {} (Nonce: {})", self.hash, self.nonce);
}
blockchain.mine_pending_transactions("Miner1".to_string());
```
```plaintext
ğŸ“¡ èŠ‚ç‚¹é€šä¿¡ (Networking)
æ¯ä¸ªèŠ‚ç‚¹éƒ½é€šè¿‡ TCP é€šä¿¡ï¼Œå¯ä»¥æ¥æ”¶æ–°åŒºå—å¹¶å°†å…¶å¹¿æ’­ç»™å…¶ä»–èŠ‚ç‚¹ã€‚

ğŸ¨ å¯è§†åŒ–æ•ˆæœ
ä¸‹é¢æ˜¯åŒºå—é“¾çš„ç»“æ„ç¤ºæ„å›¾ï¼Œå¸®åŠ©ç†è§£åŒºå—çš„ç»„æˆå’Œé“¾æ¡çš„å…³ç³»ï¼š
```
```plaintext
ğŸš€ å¿«é€Ÿå¼€å§‹
1ï¸âƒ£ å…‹éš†é¡¹ç›®ä»£ç 
```bash
git clone https://github.com/zzh156/chain.git
cd chain
2ï¸âƒ£ æ„å»ºé¡¹ç›®
bash
å¤åˆ¶ä»£ç 
cargo build
3ï¸âƒ£ è¿è¡Œé¡¹ç›®
bash
å¤åˆ¶ä»£ç 
cargo run
è¿è¡Œåï¼Œå°†ä¼šå¯åŠ¨æœ¬åœ°èŠ‚ç‚¹å¹¶æ¨¡æ‹ŸåŒºå—é“¾æ“ä½œã€‚
```

ğŸ”® æœªæ¥åŠŸèƒ½
ğŸŒ P2P ç½‘ç»œï¼šæ”¯æŒçœŸæ­£çš„å»ä¸­å¿ƒåŒ–ç½‘ç»œã€‚
ğŸ§  æ™ºèƒ½åˆçº¦ï¼šæ·»åŠ åŸºæœ¬çš„æ™ºèƒ½åˆçº¦åŠŸèƒ½ã€‚
âš¡ï¸ æ€§èƒ½ä¼˜åŒ–ï¼šæå‡åŒºå—é“¾æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚
ğŸ”’ å®‰å…¨å¢å¼ºï¼šé€šè¿‡åŠ å¯†ç®—æ³•æå‡æ•°æ®å®‰å…¨æ€§ã€‚
ğŸ“œ é¡¹ç›®è®¸å¯è¯
æœ¬é¡¹ç›®åŸºäº MIT åè®®ï¼Œæ¬¢è¿å­¦ä¹ å’Œä½¿ç”¨ï¼
```